<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div>

<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="160.55px" height="160.55px" viewBox="0 0 160.55 160.55" enable-background="new 0 0 160.55 160.55" xml:space="preserve">
    <circle fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="80.275" cy="80.275" r="80.275" />
    <text class="svg-text" x="60" y="80" font-family="Verdana">GI</text>
</svg>
    </div>
    <div>
    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="160.55px" height="160.55px" viewBox="0 0 160.55 160.55" enable-background="new 0 0 160.55 160.55" xml:space="preserve">
    <circle fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="80.275" cy="80.275" r="80.275" />
    <text class="svg-text" x="60" y="80" font-family="Verdana">CA</text>
</svg>
    </div>
    <div>
    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="160.55px" height="160.55px" viewBox="0 0 160.55 160.55" enable-background="new 0 0 160.55 160.55" xml:space="preserve">
    <circle fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="80.275" cy="80.275" r="80.275" />
    <text class="svg-text" x="60" y="80" font-family="Verdana">S</text>
</svg>
    </div>
    <div>
    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="160.55px" height="160.55px" viewBox="0 0 160.55 160.55" enable-background="new 0 0 160.55 160.55" xml:space="preserve">
    <circle fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="80.275" cy="80.275" r="80.275" />
    <text class="svg-text" x="60" y="80" font-family="Verdana">C</text>
</svg>
    </div>

    <template class="categoryTemplate">
        <section class="category">
            <h1 id="header">PH</h1>
        </section>
    </template>

    <template class="item">
        <div>
    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="160.55px" height="160.55px" viewBox="0 0 160.55 160.55" enable-background="new 0 0 160.55 160.55" xml:space="preserve">
    <circle fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="80.275" cy="80.275" r="80.275" />
    <text class="svg-text" x="60" y="80" font-family="Verdana">Hello</text>
        <h1></h1>
        <p></p>
</svg>
    </div>
    </template>



    <section></section>






    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.2/TweenMax.min.js"></script>
    <script src="FetchGoogleJSON.js"></script>
    <script src="PrettifyGoogleJSON.js"></script>
    <script>
//    let main =["General Info","General Info","General Info","General Info", "Stuff", "Stuff", "Stuff"];
//
//        main.forEach(function(item){
////            console.log(item);
//            if(item != lastSeen){
//                let parts = item.split(" ");
//                let word = ""
//                parts.forEach(function(p){
//                    word=word+p[0]; //same as word+=p[0]
//                })
//                console.log(word);
//
//                lastSeen=item;
//            }
//        });
    let template = document.querySelector(".item");
    let section = document.querySelector("section");
    let category = document.querySelector(".categoryTemplate");
    let data;
    let lastSeen="";
    let lastSeen2="";
        //1WPxeZQxxMC6eF3WKgjCglS8xeNewHruX6_Jdxr8UdNI
        new FetchGoogleJSON("1WPxeZQxxMC6eF3WKgjCglS8xeNewHruX6_Jdxr8UdNI", show);

        function show(data){
            console.log(data)
            data.forEach(item=>{
                if(item.mainsection != lastSeen2) {
                            console.log(item.mainsection)
                            let clone2 = category.cloneNode(true).content;
                            clone2.querySelector("h1").textContent = item.mainsection;
                            section.appendChild(clone2);
                        }
                if(item.sectiontitle != lastSeen){
                let parts = item.sectiontitle.split(" ");
                let word = ""
                parts.forEach(function(p){
                    word=word+p[0]; //same as word+=p[0]
                });
                console.log(word);
                let clone = template.cloneNode(true).content;
                clone.querySelector(".svg-text").textContent = word;
                clone.querySelector("h1").textContent = item.sectiontitle;
                clone.querySelector("p").textContent = item.shortdescription;
                    section.appendChild(clone);


                    }

                lastSeen2=item.mainsection;

                lastSeen=item.sectiontitle;

            }
            )};


































    </script>
</body>
</html>
