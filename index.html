<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <a href="#homeee"><button id="homebutton">HOME</button></a>
    <header id="homeee">

        <div class="slideshow-container">
                   <nav>
        <div>
            <a href="#GENERAL INFO">
            <svg version="1.1" id="Layer_1" style="overflow: visible" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="160.55px" height="160.55px" viewBox="0 0 160.55 160.55" enable-background="new 0 0 160.55 160.55" xml:space="preserve">
                <circle stroke="#FFBF26" fill="rgba(255, 255, 255, 0.0)" stroke="#000000" stroke-miterlimit="10" cx="80.275" cy="80.275" r="80.275" />
                    <text fill="#FFBF26" x="35" y="100" font-size="4em">GI</text>
            </svg>
           <h1 style="color:#FFBF26">GENERAL INFO</h1>
                </a>
        </div>
        <div>
            <a href="#CORE AREAS">
            <svg version="1.1" id="Layer_1" style="overflow: visible" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="160.55px" height="160.55px" viewBox="0 0 160.55 160.55" enable-background="new 0 0 160.55 160.55" xml:space="preserve">
                <circle fill="rgba(255, 255, 255, 0.0)" stroke="#14BEAB" stroke-miterlimit="10" cx="80.275" cy="80.275" r="80.275" />
             <text class="svg-text" fill="#14BEAB" x="35" y="100" font-size="4em">CA</text>
            </svg>
            <h1 style="color:#14BEAB">CORE AREAS</h1>
            </a>
                </div>

        <div>
            <a href="#SELECTIVE AREAS">
            <svg version="1.1" id="Layer_1" style="overflow: visible" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="160.55px" height="160.55px" viewBox="0 0 160.55 160.55" enable-background="new 0 0 160.55 160.55" xml:space="preserve">
                <circle fill="rgba(255, 255, 255, 0.0)" stroke="#9E0F3B" stroke-miterlimit="10" cx="80.275" cy="80.275" r="80.275" />
                    <text class="svg-text" fill="#9E0F3B" x="55" y="100" font-size="4em">S</text>
            </svg>
            <h1 style="color:#9E0F3B">SELECTIVE AREAS</h1>
                </a>
                </div>
        <div>
            <a href="#CONTACT">
            <svg version="1.1" id="Layer_1" style="overflow: visible" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="160.55px" height="160.55px" viewBox="0 0 160.55 160.55" enable-background="new 0 0 160.55 160.55" xml:space="preserve">
                <circle fill="rgba(255, 255, 255, 0.0)" stroke="#949393" stroke-miterlimit="10" cx="80.275" cy="80.275" r="80.275" />
                    <text class="svg-text" x="55" y="100" fill="#949393" font-size="4em">C</text>
            </svg>
            <h1 style="color:#949393">CONTACT</h1>
                </a>
                </div>
    </nav>
            <img src="imgs/WELCOME.png" class="welcome">
            <div class="caruselus">
            <div class="mySlides fade"> <img src="imgs/img_01.jpg" class="size-img"> </div>
            <div class="mySlides fade"> <img src="imgs/img_02.jpg" class="size-img"> </div>
            <div class="mySlides fade"> <img src="imgs/img_03.jpg" class="size-img"> </div>
            <div class="mySlides fade"> <img src="imgs/img_04.jpg" class="size-img"> </div>
</div>
            <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
            <a class="next" onclick="plusSlides(1)">&#10095;</a>
        </div>
    </header>

    <template class="categoryTemplate">
        <section class="category">
            <h1 id="header">PH</h1>
        </section>
    </template>

    <template class="item">
        <div>
            <svg class="modal-button" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="160.55px" height="160.55px" viewBox="0 0 160.55 160.55" enable-background="new 0 0 160.55 160.55" xml:space="preserve">
                <circle fill="rgba(255,255,255,0)" stroke="#000000" stroke-miterlimit="10" cx="80.275" cy="80.275" r="80.275" />
                <text class="svg-text" text-anchor="middle" x="80" y="100"font-size="4em"></text>

            </svg>
            <h1></h1>
                <p></p>
        </div>
    </template>
    <div class="modal hide">
        <div class="modal-content">
            <h1 class="modal-name">data-name</h1>
            <p class="modal-description">data-longdescription</p>
        </div>
    </div>



    <section class="container"></section>







    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.2/TweenMax.min.js"></script>
    <script src="FetchGoogleJSON.js"></script>
    <script src="PrettifyGoogleJSON.js"></script>
    <script src="slides.js"></script>
    <script>
        //    let main =["General Info","General Info","General Info","General Info", "Stuff", "Stuff", "Stuff"];
        //
        //        main.forEach(function(item){
        ////            console.log(item);
        //            if(item != lastSeen){
        //                let parts = item.split(" ");
        //                let word = ""
        //                parts.forEach(function(p){
        //                    word=word+p[0]; //same as word+=p[0]
        //                })
        //                console.log(word);
        //
        //                lastSeen=item;
        //            }
        //        });
        let template = document.querySelector(".item");
        let section = document.querySelector("section");
        let category = document.querySelector(".categoryTemplate");
        let main = document.querySelector(".main");
        let modal = document.querySelector('.modal');
        let data;
        let lastSeen = "";
        let lastSeen2 = "";
        //1WPxeZQxxMC6eF3WKgjCglS8xeNewHruX6_Jdxr8UdNI
        new FetchGoogleJSON("1WPxeZQxxMC6eF3WKgjCglS8xeNewHruX6_Jdxr8UdNI", show);

        modal.addEventListener('click', function () {
            modal.classList.add('hide');
        });


        function show(data) {
            console.log(data)
            data.forEach(item => {

                if (item.mainsection != lastSeen2) {
                    console.log(item.mainsection)
                    // Adds Section title to the main container ///
                    let section = document.querySelector("section");
                    let clone2 = category.cloneNode(true).content;
                    clone2.querySelector("h1").textContent = item.mainsection;
                    clone2.querySelector("section.category").id=item.mainsection;

                    section.appendChild(clone2);
                }
                if (item.sectiontitle != lastSeen) {
                    let parts = item.sectiontitle.split(" ");
                    let word = ""
                    parts.forEach(function (p) {
                        word = word + p[0]; //same as word+=p[0]
                    });
                    console.log(word);
                    // Adds the content of the template beneath the section title added previously ////
                    let clone = template.cloneNode(true).content;
                    clone.querySelector(".svg-text").textContent = word;
                    clone.querySelector("h1").textContent = item.sectiontitle;
                    clone.querySelector("p").textContent = item.shortdescription;


                    //modal
                    let modalButton = clone.querySelector('.modal-button');

                    modalButton.addEventListener('click', function () {
                        modal.querySelector('.modal-name').textContent = item.sectiontitle;
                        if(item.mainsection == "GENERAL INFO"){
                            modal.querySelector('.modal-content').style.backgroundColor = '#FFBF26';
                        }
                        if(item.mainsection == "CORE AREAS"){
                            modal.querySelector('.modal-content').style.backgroundColor = '#14BEAB';
                        }
                        if(item.mainsection == "SELECTIVE AREAS"){
                            modal.querySelector('.modal-content').style.backgroundColor = '#9E0F3B';
                        }
                        modal.querySelector('.modal-description').textContent = item.longdescription;
                        modal.classList.remove('hide');
                    });
                    //modalend

                    document.querySelector('.container .category:last-child').appendChild(clone);
                }

                lastSeen2 = item.mainsection;

                lastSeen = item.sectiontitle;

            })
        };
    </script>
</body>

</html>
